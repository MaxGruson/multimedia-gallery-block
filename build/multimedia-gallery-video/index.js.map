{"version":3,"file":"multimedia-gallery-video/index.js","mappings":";;;;;;;;;;;;;;;;;;AAAsC;AACtC;AACA;AACA;AACkD;AAClD,aAAa,oDAAa,CAAC,sDAAG;AAC9B;AACA;AACA,CAAC,EAAE,oDAAa,CAAC,uDAAI;AACrB;AACA,CAAC;AACD,iEAAe,IAAI,EAAC;AACpB;;;;;;;;;;;;;;;;;;ACZsC;AACtC;AACA;AACA;AACkD;AAClD,cAAc,oDAAa,CAAC,sDAAG;AAC/B;AACA;AACA,CAAC,EAAE,oDAAa,CAAC,uDAAI;AACrB;AACA;AACA;AACA,CAAC;AACD,iEAAe,KAAK,EAAC;AACrB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACqC;;AAErC;AACA;AACA;AACA;AACA;AACA;AACkE;AAEpB;AAEiI;AAEhI;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeY,OAAOA,CAAEC,GAAG,EAAG;EAC7B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAEF,GAAI,CAAC;EACnC,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;IACjB,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;EACjC;EACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI;AACZ;AAEe,SAASE,IAAIA,CAAC;EAACC,UAAU;EAAEC;AAAa,CAAC,EAAE;EAEzD,MAAM;IAACC;EAAQ,CAAC,GAAGF,UAAU;EAE7B,MAAM,CAAEG,YAAY,EAAEC,eAAe,CAAE,GAAGtB,4DAAQ,CAAE,KAAM,CAAC;EAE3D,MAAMuB,YAAY,GAAKH,QAAQ,IAAM;IACpC,IAAGA,QAAQ,IAAI,CAAEC,YAAY,EAAE;MAC9B,IAAKD,QAAQ,CAACI,QAAQ,CAAE,OAAQ,CAAC,EAAG;QACnCf,OAAO,CAAE,wCAAwC,GAAGgB,kBAAkB,CAAEL,QAAS,CAAE,CAAC,CAACM,IAAI,CAAEX,IAAI,IAAI;UAClG,MAAMY,eAAe,GAAGZ,IAAI,CAACa,aAAa,CAACC,OAAO,CACjD,QAAQ,EACR,OACD,CAAC;UACDP,eAAe,CAAEK,eAAgB,CAAC;QACnC,CAAE,CAAC,CAACG,KAAK,CAAEC,KAAK,IAAI;UACnBC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;QACtE,CAAE,CAAC;MACJ,CAAC,MAAM,IAAKX,QAAQ,CAACI,QAAQ,CAAE,OAAQ,CAAC,EAAG;QAC1Cf,OAAO,CAAE,6CAA6C,GAAGgB,kBAAkB,CAAEL,QAAS,CAAE,CAAC,CAACM,IAAI,CAAEX,IAAI,IAAI;UACvG,MAAMkB,WAAW,GAAGlB,IAAI,CAACa,aAAa;UACtC,MAAMM,SAAS,GAAGD,WAAW,CAACJ,OAAO,CACpC,UAAU,EACV,mBACD,CAAC;UACDjB,KAAK,CAAEsB,SAAU,CAAC,CACjBR,IAAI,CAAEf,QAAQ,IAAI;YAClB,IAAI,CAACA,QAAQ,CAACE,EAAE,EAAE;cACjB,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;YACjC;YACA,OAAOH,QAAQ;UAChB,CAAE,CAAC,CACFe,IAAI,CAAE,MAAM;YACZJ,eAAe,CAAEY,SAAU,CAAC;UAC7B,CAAE,CAAC,CACFJ,KAAK,CAAEC,KAAK,IAAI;YAChBC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;YACrET,eAAe,CAAEW,WAAY,CAAC;UAC/B,CAAE,CAAC;QACJ,CAAE,CAAC,CAACH,KAAK,CAAEC,KAAK,IAAI;UACnBC,OAAO,CAACD,KAAK,CAAC,+CAA+C,EAAEA,KAAK,CAAC;QACtE,CAAE,CAAC;MACJ;IACD;EACD,CAAC;EACDR,YAAY,CAAEH,QAAS,CAAC;EAExB,OACCe,oDAAA,CAAAC,2CAAA,QAEAD,oDAAA;IAAIE,SAAS,EAAC;EAA0B,GACvCF,oDAAA;IAAA,GAAarC,sEAAa,CAAC;EAAC,GACzB,CAAC,CAAEuB,YAAY,GAChBc,oDAAA;IAAKE,SAAS,EAAC,eAAe;IAACC,KAAK,EAAE;MAACC,eAAe,EAAE,MAAM,GAAG;QAAClB;MAAY,CAAC,GAAG;IAAI;EAAE,GACvFc,oDAAA;IACCE,SAAS,EAAC,sBAAsB;IAChCG,GAAG,EAAEnB;EAAa,CAClB,CAAC,EACFc,oDAAA,CAAC9B,yDAAM;IACNoC,QAAQ;IACRC,IAAI,EAAEP,oDAAA;MAAKQ,OAAO,EAAC;IAAW,GAACR,oDAAA;MAAMS,CAAC,EAAC;IAAiH,CAAO,CAAM,CAAE;IACvKP,SAAS,EAAC;EAAa,CAEhB,CAAC,EACTF,oDAAA,CAAC9B,yDAAM;IACNqC,IAAI,EAAGnC,wDAAO;IACdsC,KAAK,EAAEhD,mDAAE,CAAE,wBAAwB,EAAE,oBAAoB,CAAE;IAC3DwC,SAAS,EAAC,YAAY;IACtBS,OAAO,EACNA,CAAA,KAAM;MACL3B,aAAa,CAAC;QAACC,QAAQ,EAAE;MAAI,CAAC,CAAC;MAC/BE,eAAe,CAAE,KAAM,CAAC;IACzB;EACA,CAEM,CACJ,CAAC,GAENa,oDAAA,CAAC7B,8DAAW;IACXuC,KAAK,EAAEhD,mDAAE,CAAC,kCAAkC,EAAE,oBAAoB;EAAE,GAEpEsC,oDAAA,cACCA,oDAAA,CAACjC,6EAAY;IACZ6C,KAAK,EAAE3B,QAAS;IAChB4B,WAAW,EAAEnD,mDAAE,CAAC,6CAA6C,EAAE,oBAAoB,CAAE;IACrFoD,MAAM,EAAEd,oDAAA,CAAC/B,0FAAyB,QAAGI,wDAAiC,CAAE;IACxE0C,QAAQ,EACN9B,QAAQ,IAAK;MACbD,aAAa,CAAC;QAACC,QAAQ,EAAEA;MAAQ,CAAC,CAAC;MACnCG,YAAY,CAAEH,QAAS,CAAC;IACzB;EACA,CACD,CACG,CACO,CACb,EACDe,oDAAA,CAACpC,6DAAQ;IACRoD,OAAO,EAAC,YAAY;IACpBC,cAAc,EAAG,CAAC,WAAW,EAAE,aAAa,EAAE,WAAW,CAAG;IAC5DL,KAAK,EAAG7B,UAAU,CAACmC,WAAa;IAChCH,QAAQ,EAAIG,WAAW,IAAKlC,aAAa,CAAE;MAAEkC;IAAY,CAAE,CAAG;IAC9DL,WAAW,EAAGnD,mDAAE,CAAE,cAAc,EAAE,oBAAqB;EAAG,CAC1D,CACM,CACL,CAEF,CAAC;AAEL;;;;;;;;;;;AClJA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACsD;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACsB;;AAEtB;AACA;AACA;AAC0B;AACU;;AAEpC;AACA;AACA;AACA;AACA;AACAyD,oEAAiB,CAAEC,6CAAa,EAAE;EACjC;AACD;AACA;EACCE,IAAI,EAAExC,6CAAIA;AACX,CAAE,CAAC,C","sources":["webpack://multimedia-gallery-block/./node_modules/@wordpress/icons/build-module/library/link.js","webpack://multimedia-gallery-block/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://multimedia-gallery-block/./src/multimedia-gallery-video/edit.js","webpack://multimedia-gallery-block/./src/multimedia-gallery-video/index.scss?0d1d","webpack://multimedia-gallery-block/external window \"React\"","webpack://multimedia-gallery-block/external window [\"wp\",\"blockEditor\"]","webpack://multimedia-gallery-block/external window [\"wp\",\"blocks\"]","webpack://multimedia-gallery-block/external window [\"wp\",\"components\"]","webpack://multimedia-gallery-block/external window [\"wp\",\"element\"]","webpack://multimedia-gallery-block/external window [\"wp\",\"i18n\"]","webpack://multimedia-gallery-block/external window [\"wp\",\"primitives\"]","webpack://multimedia-gallery-block/webpack/bootstrap","webpack://multimedia-gallery-block/webpack/runtime/compat get default export","webpack://multimedia-gallery-block/webpack/runtime/define property getters","webpack://multimedia-gallery-block/webpack/runtime/hasOwnProperty shorthand","webpack://multimedia-gallery-block/webpack/runtime/make namespace object","webpack://multimedia-gallery-block/./src/multimedia-gallery-video/index.js"],"sourcesContent":["import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst link = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\"\n}));\nexport default link;\n//# sourceMappingURL=link.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst trash = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n}));\nexport default trash;\n//# sourceMappingURL=trash.js.map","/**\n * Retrieves the translation of text.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-i18n/\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport { useBlockProps, RichText } from '@wordpress/block-editor';\n\nimport { useState } from '@wordpress/element';\n\nimport { __experimentalInputControl as InputControl,  __experimentalInputControlPrefixWrapper as InputControlPrefixWrapper, Button, Placeholder } from '@wordpress/components';\n\nimport { trash, link } from '@wordpress/icons';\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#edit\n *\n * @return {Element} Element to render.\n */\nasync function getData( url ) {\n\tconst response = await fetch( url );\n\tif (!response.ok) { \n\t\tthrow new Error('Network error');\n\t}\n\tconst data = await response.json();\n\treturn data;\n}\n\nexport default function Edit({attributes, setAttributes}) {\n\n\tconst {videoURL} = attributes;\n\n\tconst [ thumbnailURL, setThumbnailURL ] = useState( false );\n\n\tconst getThumbnail = ( videoURL ) => {\n\t\tif(videoURL && ! thumbnailURL) {\n\t\t\tif ( videoURL.includes( 'vimeo' ) ) {\n\t\t\t\tgetData( 'https://vimeo.com/api/oembed.json?url=' + encodeURIComponent( videoURL ) ).then( data => {\n\t\t\t\t\tconst newThumbnailURL = data.thumbnail_url.replace(\n\t\t\t\t\t\t/_(.*)$/,\n\t\t\t\t\t\t'_1000'\n\t\t\t\t\t);\n\t\t\t\t\tsetThumbnailURL( newThumbnailURL );\n\t\t\t\t} ).catch( error => {\n\t\t\t\t\tconsole.error('There was a problem with the Fetch operation:', error);\n\t\t\t\t} );\n\t\t\t} else if ( videoURL.includes( 'youtu' ) ) {\n\t\t\t\tgetData( 'https://youtube.com/oembed?format=json&url=' + encodeURIComponent( videoURL ) ).then( data => {\n\t\t\t\t\tconst originalURL = data.thumbnail_url;\n\t\t\t\t\tconst maxResURL = originalURL.replace(\n\t\t\t\t\t\t/\\w*.\\w*$/,\n\t\t\t\t\t\t'maxresdefault.jpg'\n\t\t\t\t\t);\n\t\t\t\t\tfetch( maxResURL )\n\t\t\t\t\t.then( response => {\n\t\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\t\tthrow new Error('Network error');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t} )\n\t\t\t\t\t.then( () => {\n\t\t\t\t\t\tsetThumbnailURL( maxResURL );\n\t\t\t\t\t} )\n\t\t\t\t\t.catch( error => {\n\t\t\t\t\t\tconsole.error('There was a problem with the Fetch operation:', error);\n\t\t\t\t\t\tsetThumbnailURL( originalURL );\n\t\t\t\t\t} );\n\t\t\t\t} ).catch( error => {\n\t\t\t\t\tconsole.error('There was a problem with the Fetch operation:', error);\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t};\n\tgetThumbnail( videoURL );\n\n\treturn (\n\t\t<>\n\t\t{/* Main block zone */}\n\t\t<li className='multimedia-gallery__item'>\n\t\t\t<figure { ...useBlockProps() }>\n\t\t\t\t{ !! thumbnailURL ? (\n\t\t\t\t\t<div className='img-container' style={{backgroundImage: 'url(' + {thumbnailURL} + ')' }}>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName='img-container__image'\n\t\t\t\t\t\t\tsrc={thumbnailURL}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\ticon={<svg viewBox=\"0 0 18 18\"><path d=\"M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z\"></path></svg>}\n\t\t\t\t\t\t\tclassName=\"play-button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ticon={ trash }\n\t\t\t\t\t\t\tlabel={__( 'Afbeelding verwijderen', 'multimedia-gallery')}\n\t\t\t\t\t\t\tclassName='trash-icon'\n\t\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\tsetAttributes({videoURL: null});\n\t\t\t\t\t\t\t\t\tsetThumbnailURL( false );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t):(\n\t\t\t\t\t<Placeholder\n\t\t\t\t\t\tlabel={__('URL naar YouTube- of Vimeo-video', 'multimedia-gallery')}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t\tvalue={videoURL}\n\t\t\t\t\t\t\t\tplaceholder={__('https://www.youtube.com/watch?v=dQw4w9WgXcQ', 'multimedia-gallery')}\n\t\t\t\t\t\t\t\tprefix={<InputControlPrefixWrapper>{ link }</InputControlPrefixWrapper>}\n\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t(videoURL) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({videoURL: videoURL});\n\t\t\t\t\t\t\t\t\t\tgetThumbnail( videoURL );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Placeholder>\n\t\t\t\t) }\n\t\t\t\t<RichText\n\t\t\t\t\ttagName='figcaption'\n\t\t\t\t\tallowedFormats={ ['core/bold', 'core/italic', 'core/link'] }\n\t\t\t\t\tvalue={ attributes.description }\n\t\t\t\t\tonChange={ (description) => setAttributes( { description } ) }\n\t\t\t\t\tplaceholder={ __( 'Omschrijving', 'multimedia-gallery' ) }\n\t\t\t\t/>\n\t\t\t</figure>\n\t\t</li>\n\t\t{/* End Main block zone */}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './index.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n} );\n"],"names":["__","useBlockProps","RichText","useState","__experimentalInputControl","InputControl","__experimentalInputControlPrefixWrapper","InputControlPrefixWrapper","Button","Placeholder","trash","link","getData","url","response","fetch","ok","Error","data","json","Edit","attributes","setAttributes","videoURL","thumbnailURL","setThumbnailURL","getThumbnail","includes","encodeURIComponent","then","newThumbnailURL","thumbnail_url","replace","catch","error","console","originalURL","maxResURL","createElement","Fragment","className","style","backgroundImage","src","disabled","icon","viewBox","d","label","onClick","value","placeholder","prefix","onChange","tagName","allowedFormats","description","registerBlockType","metadata","name","edit"],"sourceRoot":""}