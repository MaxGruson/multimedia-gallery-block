(()=>{"use strict";const e=window.wp.blocks,t=window.React,o=window.wp.i18n,r=window.wp.blockEditor,a=window.wp.element,l=window.wp.components,n=window.wp.primitives,i=(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),c=(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"}));async function m(e){const t=await fetch(e);if(!t.ok)throw new Error("Network error");return await t.json()}const s=JSON.parse('{"N9":"maxgruson/multimedia-gallery-video"}');(0,e.registerBlockType)(s.N9,{edit:function({attributes:e,setAttributes:n}){const{videoURL:s}=e,[w,h]=(0,a.useState)(!1),u=e=>{e&&!w&&(e.includes("vimeo")?m("https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e)).then((e=>{const t=e.thumbnail_url.replace(/_(.*)$/,"_1000");h(t)})).catch((e=>{console.error("There was a problem with the Fetch operation:",e)})):e.includes("youtu")&&m("https://youtube.com/oembed?format=json&url="+encodeURIComponent(e)).then((e=>{const t=e.thumbnail_url,o=t.replace(/\w*.\w*$/,"maxresdefault.jpg");fetch(o).then((e=>{if(!e.ok)throw new Error("Network error");return e})).then((()=>{h(o)})).catch((e=>{console.error("There was a problem with the Fetch operation:",e),h(t)}))})).catch((e=>{console.error("There was a problem with the Fetch operation:",e)})))};return u(s),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("li",{className:"multimedia-gallery__item"},(0,t.createElement)("figure",{...(0,r.useBlockProps)()},w?(0,t.createElement)("div",{className:"img-container",style:{backgroundImage:"url("+{thumbnailURL:w}+")"}},(0,t.createElement)("img",{className:"img-container__image",src:w}),(0,t.createElement)(l.Button,{disabled:!0,icon:(0,t.createElement)("svg",{viewBox:"0 0 18 18"},(0,t.createElement)("path",{d:"M15.562 8.1L3.87.225c-.818-.562-1.87 0-1.87.9v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z"})),className:"play-button"}),(0,t.createElement)(l.Button,{icon:i,label:(0,o.__)("Afbeelding verwijderen","multimedia-gallery"),className:"trash-icon",onClick:()=>{n({videoURL:null}),h(!1)}})):(0,t.createElement)(l.Placeholder,{label:(0,o.__)("URL naar YouTube- of Vimeo-video","multimedia-gallery")},(0,t.createElement)("div",null,(0,t.createElement)(l.__experimentalInputControl,{value:s,placeholder:(0,o.__)("https://www.youtube.com/watch?v=dQw4w9WgXcQ","multimedia-gallery"),prefix:(0,t.createElement)(l.__experimentalInputControlPrefixWrapper,null,c),onChange:e=>{n({videoURL:e}),u(e)}}))),(0,t.createElement)(r.RichText,{tagName:"figcaption",allowedFormats:["core/bold","core/italic","core/link"],value:e.description,onChange:e=>n({description:e}),placeholder:(0,o.__)("Omschrijving","multimedia-gallery")}))))}})})();